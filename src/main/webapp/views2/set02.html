<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Page2 - Well Off Magnificent Opossum</title>
    <meta property="og:title" content="Page2 - Well Off Magnificent Opossum" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-gray-black);
        background-color: var(--dl-color-gray-white);

      }


      table {
          border-collapse: collapse;
          width: 100%;
      }
        
      th, td {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 8px;
      }

      th {
      background-color: #dddddd;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@100;200;300;400;500;600;700&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <!--This is the head section-->
    <!-- <style> ... </style> -->
    <link rel="stylesheet" href="../resources/css/style02.css" />

  </head>
  <body>
    <div>
      <link href="../resources/css/set02.css" rel="stylesheet" />

      <div class="page2-container">
        <div class="layout-container layout-root-class-name4">
          <div class="layout-container1">
            <header data-role="Accordion" class="layout-header">
              <img
                alt="logo"
                src="../resources/img/logo.png"
                class="layout-image"
              />
              <div class="layout-separator"></div>
              <nav class="layout-nav">
                <nav
                  class="navigation-links-nav navigation-links-root-class-name9"
                >
                  <span class="navigation-links-text" onclick="theSave()">
                    <span>설정하기</span>
                  </span>
                  <span class="navigation-links-text1">
                    <span>대상/픽스 설정하기</span>
                  </span>
                  <!-- <span class="navigation-links-text2 l_menu_selected">
                    <span>파트고정</span>
                  </span>
                  <span class="navigation-links-text3">
                    <span>재배치</span>
                  </span> -->
                </nav>
              </nav>
              <div data-role="AccordionHeader" class="layout-accordion-header">
                <svg viewBox="0 0 1024 1024" class="layout-icon">
                  <path
                    d="M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"
                  ></path>
                </svg>
              </div>
              <div
                data-role="AccordionContent"
                class="layout-accordion-content"
              >
                <div class="layout-nav1">
                  <nav
                    class="navigation-links3-nav navigation-links3-root-class-name20"
                  >
                    <span class="navigation-links3-text">
                      <span>About</span>
                    </span>
                    <span class="navigation-links3-text1">
                      <span>Features</span>
                    </span>
                    <span class="navigation-links3-text2">
                      <span>Pricing</span>
                    </span>
                    <span class="navigation-links3-text3">
                      <span>Team</span>
                    </span>
                    <span class="navigation-links3-text4">
                      <span>Blog</span>
                    </span>
                  </nav>
                </div>
              </div>
            </header>
          </div>
          <img
            alt="image"
            src="../resources/img/background.jpg"
            class="layout-image1"
          />
          <div class="layout-container2">
            <footer class="layout-footer">
              <img
                alt="logo"
                src="../resources/img/logo.png"
                class="layout-image2"
              />
              <div class="layout-container3">
                <span class="layout-text">
                  © 2023 Allocation, All Rights Reserved.
                </span>
              </div>
            </footer>
          </div>
        </div>
        <div class="main_container">
          <div class="page2-container02">
            <h1 class="page2-text menu_label">파트고정</h1>
          </div>
          <div class="page2-container03">
            <div class="l_container">
              <div class="d_row s_container">
                <div class="page2-container06">
                  <button class="page2-button button" onclick="addclick()">픽스 추가</button>
                  <button class="page2-button1 button" onclick="addSeting()">설정완료</button>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_1" class="page2-container08">
                  <label class="num_label">01</label>
                  <select class="page2-select01" id="selectNm0"></select>
                  <select class="page2-select selectPeople" id="selectMon0"></select>
                  <select class="page2-select02" id="selectShift0"></select>
                </div>
                <div id="col_8" class="page2-container09">
                  <label class="num_label">08</label>
                  <select class="page2-select04" id="selectNm7"></select>
                  <select class="page2-select03" id="selectMon7"></select>
                  <select class="page2-select05" id="selectShift7"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_2" class="page2-container11">
                  <label class="num_label">02</label>
                  <select class="page2-select07" id="selectNm1"></select>
                  <select class="page2-select06" id ="selectMon1"></select>
                  <select class="page2-select08" id="selectShift1"> </select>
                </div>
                <div id="col_9" class="page2-container12">
                  <label class="num_label">09</label>
                  <select class="page2-select10" id="selectNm8"></select>
                  <select class="page2-select09" id="selectMon8"></select>                  
                  <select class="page2-select11" id="selectShift8"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_3" class="page2-container14">
                  <label class="num_label">03</label>
                  <select class="page2-select13" id="selectNm2"></select>
                  <select class="page2-select12" id="selectMon2"></select>                
                  <select class="page2-select14" id="selectShift2"></select>
                </div>
                <div id="col_10" class="page2-container15">
                  <label class="num_label">10</label>
                  <select class="page2-select16" id="selectNm9"></select>
                  <select class="page2-select15" id="selectMon9"></select>
                  <select class="page2-select17" id="selectShift9"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_4" class="page2-container17">
                  <label class="num_label">04</label>
                  <select class="page2-select19" id="selectNm3"></select>
                  <select class="page2-select18" id="selectMon3"></select>                
                  <select class="page2-select20" id="selectShift3"></select>
                </div>
                <div id="col_11" class="page2-container18">
                  <label class="num_label">11</label>
                  <select class="page2-select22" id="selectNm10"></select>
                  <select class="page2-select21" id="selectMon10"></select>                 
                  <select class="page2-select23" id="selectShift10"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_5" class="page2-container20">
                  <label class="num_label">05</label>
                  <select class="page2-select25" id="selectNm4"></select>
                  <select class="page2-select24" id="selectMon4"></select>                  
                  <select class="page2-select26" id="selectShift4"></select>
                </div>
                <div id="col_12" class="page2-container21">
                  <label class="num_label">12</label>
                  <select class="page2-select28" id="selectNm11"></select>
                  <select class="page2-select27" id="selectMon11"></select>                
                  <select class="page2-select29" id="selectShift11"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_6" class="page2-container23">
                  <label class="num_label">06</label>
                  <select class="page2-select31" id="selectNm5"></select>
                  <select class="page2-select30" id="selectMon5"></select>                
                  <select class="page2-select32" id="selectShift5"></select>
                </div>
                <div id="col_13" class="page2-container24">
                  <label class="num_label">13</label>
                  <select class="page2-select34" id="selectNm12"></select>
                  <select class="page2-select33" id="selectMon12"></select>
                  <select class="page2-select35" id="selectShift12"></select>
                </div>
              </div>
              <div class="d_row s_container">
                <div id="col_7" class="page2-container26">
                  <label class="num_label">07</label>
                  <select class="page2-select37" id="selectNm6"></select>
                  <select class="page2-select36" id="selectMon6"></select>
                  <select class="page2-select38" id="selectShift6"></select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script
      data-section-id="navbar"
      src="https://unpkg.com/@teleporthq/teleport-custom-scripts"
    ></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script src="../resources/js/mainLogic.js"></script>
    <script type="text/javascript">

      //기본값 하드코딩
      let month = [3,4,5,6,7,8,9,10,11,12,1,2];
      let shift = [1,2,3,4,5,6,7,8,9,10];
      let shiftName = ["본원1","본원2","본원3","본원4","본원5","본원6","본원7","본원8","보라매","암센터"];
      let addCount=0; //현재 화면에 출력되어있는 입력 컴포넌드 갯수

      let fixMonth = new Map();
      let fixShift = new Map();
      let ppeopleNames = [];

      $(document).ready(function() {

        const cookie = document.cookie;
        const arrayCookie = cookie.split(';').find(c => c.trim().startsWith('peopleArr='));
        const peopleNamesFull = arrayCookie.split('=')[1];
        const peopleNameArray = peopleNamesFull.split(',');
        peopleNames = [...peopleNameArray];

        //이름셀렉트삽입
        for(let i=0;i<peopleNames.length;i++)
        {
          let selectId = document.getElementById("selectNm"+i)
          for(let x=0;x<peopleNames.length;x++)
          {
              let options = document.createElement("option");
              options.value=x;
              options.text=peopleNames[x];
              selectId.appendChild(options);
          }
        }

        //달셀렉트 삽입
        for(let i=0;i<peopleNames.length;i++)
        {
          let selectId = document.getElementById("selectMon"+i)
          for(let x=0;x<month.length;x++)
          {
              let options = document.createElement("option");
              options.value=x;
              options.text=month[x];
              selectId.appendChild(options);
          }
        }

        //쉬프트셀렉트 삽입
        for(let i=0;i<peopleNames.length;i++)
        {
          let selectId = document.getElementById("selectShift"+i)
          for(let x=0;x<10;x++)
          {
              let options = document.createElement("option");
              options.value=shift[x];
              options.text=shiftName[x];
              selectId.appendChild(options);
          }
        }

        //안보이게 처리
        for(let i=1;i<(peopleNames.length+1);i++)
        {
          let divId = document.getElementById("col_"+i);
          divId.style.display = "none";
        }
        addCount =0;

      });

      //픽스추가 누른경우
      function addclick(){

        addCount = addCount+1;
        if( addCount>13)
        {
          addCount = 13;
        }
        else
        {
          let divId = document.getElementById("col_"+addCount);
          divId.style.display = "block";
        }
      }

      //설정완료 누른경우
      function addSeting(){

        //픽스 맵 조립
        fixMonth.clear();
        fixShift.clear();
        for(let i=0; i<addCount;i++){
          let fixNmIndex = document.getElementById("selectNm"+i).value;
          let fixMotIndex = document.getElementById("selectMon"+i).value;
          let fixSftIndex = document.getElementById("selectShift"+i).value;

          fixMonth.set(Number(fixNmIndex),Number(fixMotIndex));
          fixShift.set(Number(fixNmIndex),Number(fixSftIndex));
        }

        alert("설정완료");
      }

      

    </script>
  </body>
</html>
